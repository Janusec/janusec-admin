<div class="container">
    <div>
        <mat-card>
            <h2 i18n="@@data_discovery"> Data Discovery</h2>
        </mat-card>
    </div>
    <mat-toolbar>
        <button mat-stroked-button i18n="@@add_discovery_rule" (click)="addDataDiscoveryRule()">
            Add Discovery Rule
        </button>
        <span class="spacer"></span>
        <a mat-stroked-button routerLink="/settings" i18n="@@back_to_settings" class="back_link">Back to Settings</a>
    </mat-toolbar>
    <div class="mat-elevation-z8">
        <mat-table #table [dataSource]="discoveryRulesDataSource">

            <ng-container matColumnDef="field_name">
                <mat-header-cell i18n="@@field_name" *matHeaderCellDef> Field Name </mat-header-cell>
                <mat-cell *matCellDef="let element" (click)="editDataDiscoveryRule(element)" class="pointer">
                    {{element.field_name}}
                </mat-cell>
            </ng-container>

            <ng-container matColumnDef="sample">
                <mat-header-cell i18n="@@sample" *matHeaderCellDef> Sample </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.sample}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="regex">
                <mat-header-cell i18n="@@regex" *matHeaderCellDef> Regex </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.regex}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="description">
                <mat-header-cell i18n="@@description" *matHeaderCellDef> Description </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
            </ng-container>

            <ng-container matColumnDef="action">
                <mat-header-cell *matHeaderCellDef i18n="@@action"> Action </mat-header-cell>
                <mat-cell *matCellDef="let element">
                    <mat-icon inline="true" (click)="editDataDiscoveryRule(element)" class="pointer">edit
                    </mat-icon>
                    <span>&nbsp;&nbsp;</span>
                    <mat-icon inline="true" (click)="deleteDataDiscoveryRule(element)" class="pointer">delete
                    </mat-icon>
                </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
        </mat-table>
        <mat-paginator #rulesPaginator [pageSize]="20" [pageSizeOptions]="[10, 20, 50]">
        </mat-paginator>
    </div>
</div>