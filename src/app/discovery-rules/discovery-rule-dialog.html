<h1 mat-dialog-title i18n="@@data_discovery_rule">Data Discovery Rule</h1>
<div mat-dialog-content>

    <mat-form-field>
        <mat-label i18n="@@field_name">Field Name</mat-label>
        <input matInput #field_name [(ngModel)]="discovery_rule.field_name" required>
        <mat-hint align="end">{{field_name.value?.length || 0}}/256</mat-hint>
    </mat-form-field>

    <mat-form-field>
        <mat-label i18n="@@sample">Sample</mat-label>
        <input matInput #sample [(ngModel)]="discovery_rule.sample" required>
        <mat-hint align="end">{{sample.value?.length || 0}}/512</mat-hint>
    </mat-form-field>

    <mat-form-field>
        <mat-label i18n="@@regex_pattern">Regular Expression Pattern</mat-label>
        <input matInput #regex_pattern [(ngModel)]="discovery_rule.regex" (focusout)="testRegex()" required>
        <mat-icon matSuffix *ngIf="regex_match.matched" color="primary">check_circle_outline</mat-icon>
        <mat-icon matSuffix *ngIf="regex_match.matched!=null && !regex_match.matched"
            color="warn">highlight_off</mat-icon>
        <mat-hint align="end">{{regex_pattern.value?.length || 0}}/512</mat-hint>
    </mat-form-field>

    <mat-form-field>
        <mat-label i18n="@@description">Description</mat-label>
        <input matInput #description [(ngModel)]="discovery_rule.description">
        <mat-hint align="end">{{description.value?.length || 0}}/512</mat-hint>
    </mat-form-field>

</div>
<div mat-dialog-actions>
    <button mat-stroked-button (click)="saveDiscoveryRule()" i18n="@@save">Save</button>
    <button mat-stroked-button mat-dialog-close i18n="@@cancel">Cancel</button>
</div>